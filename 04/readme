Домашнее задание
Пишем скрипт
Цель: В результате выполнения ДЗ студент напишет скрипт.
написать скрипт для крона
который раз в час присылает на заданную почту
- X IP адресов (с наибольшим кол-вом запросов) с указанием кол-ва запросов c момента последнего запуска скрипта
- Y запрашиваемых адресов (с наибольшим кол-вом запросов) с указанием кол-ва запросов c момента последнего запуска скрипта
- все ошибки c момента последнего запуска
- список всех кодов возврата с указанием их кол-ва с момента последнего запуска
в письме должно быть прописан обрабатываемый временной диапазон
должна быть реализована защита от мультизапуска


=============

Для контроля запуска только одной копии скрипта будем использовать flock.

Прописываем в crontab -e следующую строчку:

/usr/bin/flock -w 600 /var/tmp/myscript.lock /root/script.sh

Эта комманда запустит /root/script.sh и создаст lock-файл для данного процесса. Пока он активен, новый вызов данного скрипта не произойдет.
После завершения программы, блокировка файла снимается и процесс может быть снова запущен.
Параметр -w 600 определяет время ожидания комманды flock на освобождение lock-файла.

=============

Скрипт для запуска script.sh
